<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosas que te Quiero Decir</title>

    <!-- Fuente -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Dancing Script', cursive;
            text-align: center;
            padding: 50px;
            background: linear-gradient(135deg, #ff9a9e, #fecfef, #a18cd1);
            color: #fff;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: twinkle 2s infinite alternate;
            pointer-events: none;
        }

        @keyframes twinkle {
            from { opacity: 0.5; }
            to { opacity: 1; }
        }

        h1 {
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        #counter {
            font-size: 18px;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        #message {
            font-size: 28px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.5s ease;
        }

        #message.show {
            opacity: 1;
            transform: scale(1);
        }

        #button {
            padding: 15px 30px;
            font-size: 20px;
            font-family: inherit;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        #button:hover:not(:disabled) {
            transform: scale(1.05);
        }

        #button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        #final {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        #final h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        #final img {
            max-width: 400px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255,255,255,0.8);
        }

        /* Estrellas */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: float 3s infinite ease-in-out;
        }

        .star:nth-child(odd) {
            animation-delay: -1s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>

<body>

    <!-- Estrellas -->
    <div class="star" style="width:5px;height:5px;top:10%;left:20%"></div>
    <div class="star" style="width:3px;height:3px;top:30%;left:70%"></div>
    <div class="star" style="width:4px;height:4px;top:50%;left:40%"></div>
    <div class="star" style="width:6px;height:6px;top:70%;left:80%"></div>
    <div class="star" style="width:2px;height:2px;top:20%;left:60%"></div>
    <div class="star" style="width:5px;height:5px;top:80%;left:10%"></div>

    <div id="main">
        <h1>De Mar para Maya</h1>
        <div id="counter"></div>
        <div id="message"></div>
        <button id="button">Leer</button>
    </div>

    <div id="final">
        <h1>Fin</h1>
        <img src="img/Mayan.jpeg" alt="Nosotras">
    </div>

    <script>
        const phrases = [
            "Te amo chetobolita",
            "Eres la mejor del mundo entero",
            "Eres dinamita nena",
            "Te extraño todo el tiempo waaaaa",
            "No se te olvide comer bien",
            "Siempre voy a estar para ti",
            "Mandame msj q seguro te extraño",
            "Me encantan tus ojos",
            "Te quier besar waaaa",
            "Eres mi hogar.",
            "Cada día contigo es el mejor d mi vida",
            "Tu existencia hace más lindo todo",
            "WAAA no puedo creer que seamos novias",
            "Siempre te voy a elegir y cuidar",
            "No sé si te vi pero seguro q te ves hermosa",
            "Eres todo",
            "Gracias por existir.",
            "Me encanta compartir la vida contigo.",
            "Eres mi persona favorita",
            "Gracias",
            "Me haces sentir muy amada",
            "Me encanta escucharte",
            "Eres importante para mí.",
            "Espero siempre poder hacerte feliz",
            "Siempre todo es mejor contigo.",
            "Muack Muack",
            "Ojalà estar juntitas",
            "Siempre"
        ];

        const messageDiv = document.getElementById('message');
        const button = document.getElementById('button');
        const counter = document.getElementById('counter');
        const mainDiv = document.getElementById('main');
        const finalDiv = document.getElementById('final');

        let shownPhrases = JSON.parse(localStorage.getItem('shownPhrases')) || [];
        let availablePhrases = phrases.filter(p => !shownPhrases.includes(p));

        function showRandomPhrase() {
            if (availablePhrases.length === 0) {
                button.textContent = "Autodestrucción";
                button.onclick = endGame;
                messageDiv.textContent = "Ya no quedan más frases, pero Te amo por siempre";
                messageDiv.classList.add('show');
                return;
            }

            const randomIndex = Math.floor(Math.random() * availablePhrases.length);
            const selected = availablePhrases[randomIndex];

            messageDiv.classList.remove('show');
            void messageDiv.offsetWidth;

            messageDiv.textContent = selected;
            messageDiv.classList.add('show');

            shownPhrases.push(selected);
            localStorage.setItem('shownPhrases', JSON.stringify(shownPhrases));
            availablePhrases.splice(randomIndex, 1);

            button.disabled = true;
            setTimeout(() => button.disabled = false, 800);

            updateCounter();
        }

        function endGame() {
            mainDiv.style.display = 'none';
            finalDiv.style.display = 'flex';
            localStorage.removeItem('shownPhrases');
        }

        updateCounter();

        if (availablePhrases.length === 0) {
            button.textContent = "Autodestrucción";
            button.onclick = endGame;
        } else {
            button.onclick = showRandomPhrase;
        }
    </script>

</body>
</html>